{"mappings":"gfAAAA,EAAA,SAEAC,QAAMC,SAASC,QAAQC,OAAO,aAC5B,wEAIK,SAASC,EAASC,EAAOC,GAC9B,IAAMC,EAAS,IAAIC,gBAAgB,CACjCC,IAAK,qCACLC,EAAG,GAASC,OAANN,GACNO,WAAY,QACZC,YAAa,aACbC,YAAY,EACZR,KAAMA,EACNS,SAAU,KAEZ,OAAOC,MAAM,GAAeL,OAZb,2BAYU,KAAUA,OAAPJ,IAAUU,MAAK,SAAAC,GACzC,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,M,ICnBhB,IACMC,EADOC,SAASC,cAAc,QACjBC,SAASC,YACtBC,EAAOJ,SAASC,cAAc,YAC9BI,EAASL,SAASC,cAAc,cAChCK,EAAUN,SAASC,cAAc,cACnCM,EAAc,EAkBlB,SAASC,EAAaC,GACpB,OAAOA,EACJC,KACC,SAAAC,G,IACEC,EAAYD,EAAZC,aAEAC,GADaF,EAAbG,cACIH,EAAJE,MACAE,EAAKJ,EAALI,MACAC,EAAKL,EAALK,MACAC,EAAQN,EAARM,SACAC,EAASP,EAATO,U,MAEA,yCAC4B/B,OAAtByB,EAAa,WAGTzB,OAHkB0B,EAAK,0FAMvB1B,OAHA4B,EAAM,+DAMH5B,OAHH6B,EAAM,kEAMF7B,OAHD8B,EAAS,mEAGE9B,OAAV+B,EAAU,mC,IAK3BC,KAAK,G,CAGVd,EAAOe,iBAAiB,SAAS,SAAAC,GAC/B,GAAoB,KAAhBtB,EAAMuB,MACT,OAAOC,QAAQC,IAAI,+BAKpBlB,EAAQmB,UAAUC,OAAO,mBACzB,IAAMC,EAAe5B,EAAMuB,MAC3BD,EAAMO,iBAENhD,EAAS+C,EAAcpB,GACpBd,MAAK,SAAAoC,GACJC,eACE,IAAIC,EAAgC,GAAdxB,EACxBH,EAAK4B,mBAAmB,aAAcxB,EAAaqB,EAAKI,OACpDJ,EAAKK,UAAYH,IACnBzB,EAAQmB,UAAUU,IAAI,mBACtBZ,QAAQC,IAAI,+DAEdD,QAAQC,IAAIK,E,IAEbO,OAAM,SAACC,GAEN,MADAd,QAAQc,MAAM,SAAUA,EAAMC,SACxBD,C,OAIZ/B,EAAQc,iBAAiB,SA7EzB,WACE,IAAMO,EAAe5B,EAAMuB,MAEvBS,EAAgC,IADpCxB,GAAe,GAEf3B,EAAS+C,EAAcpB,GACpBd,MAAK,SAAAoC,GACJzB,EAAK4B,mBAAmB,YAAaxB,EAAaqB,EAAKI,OACnDJ,EAAKK,UAAYH,IACnBzB,EAAQmB,UAAUU,IAAI,mBACtBZ,QAAQC,IAAI,+DAEdD,QAAQC,IAAIK,E,IAEbO,OAAM,W,OAAMb,QAAQC,IAAI,Q","sources":["src/js/api.js","src/js/index.js"],"sourcesContent":["import axios from 'axios';\n// 39488984-2cdf64825ff5a66680c809fac\naxios.defaults.headers.common['x-api-key'] =\n  'live_xNlsBNR1EL34BK6Wbea8FpCcO90ihAQy1i4beoiTYcvycLQiUZHb5UOMBDprladk';\n\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function getPhoto(input, page) {\n  const params = new URLSearchParams({\n    key: '39488984-2cdf64825ff5a66680c809fac',\n    q: `${input}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page: page,\n    per_page: 40,\n  });\n  return fetch(`${BASE_URL}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n","import { getPhoto } from './api';\n\nconst form = document.querySelector('form');\nconst input = form.elements.searchQuery;\nconst list = document.querySelector('.gallery');\nconst button = document.querySelector('.submitBtn');\nconst loadBtn = document.querySelector('.load-more');\nlet currentPage = 1;\n\nfunction onLoad() {\n  const currentInput = input.value;\n  currentPage += 1;\n  let valueOfPictures = currentPage * 40;\n  getPhoto(currentInput, currentPage)\n    .then(data => {\n      list.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n      if (data.totalHits < valueOfPictures) {\n        loadBtn.classList.add('visually-hidden');\n        console.log(\"We're sorry, but you've reached the end of search results.\")\n      }\n      console.log(data);\n    })\n    .catch(() => console.log('error'));\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes: ${likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views: ${views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments: ${comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads: ${downloads}</b>\n    </p>\n  </div>\n</div>`\n    )\n    .join('');\n}\n\nbutton.addEventListener('click', event => {\n  if (input.value === '') {\n   return console.log('please put down correct tag')\n  }\n\n \n\n  loadBtn.classList.remove('visually-hidden');\n  const currentInput = input.value;\n  event.preventDefault();\n\n  getPhoto(currentInput, currentPage)\n    .then(data => {\n      clearGallery();\n        let valueOfPictures = currentPage * 40;\n      list.insertAdjacentHTML('afterbegin', createMarkup(data.hits));\n      if (data.totalHits < valueOfPictures) {\n        loadBtn.classList.add('visually-hidden');\n        console.log(\"We're sorry, but you've reached the end of search results.\")\n      }\n      console.log(data);\n    })\n    .catch((error) => {\n      console.error('Error:', error.message);\n      throw error;\n    });\n});\n\nloadBtn.addEventListener('click', onLoad);\n"],"names":["parcelRequire","default","defaults","headers","common","$8197bff4c39d585a$export$b4811a848a77dca8","input","page","params","URLSearchParams","key","q","concat","image_type","orientation","safesearch","per_page","fetch","then","resp","ok","Error","statusText","json","$44ae6d9db4eaca0f$var$input","document","querySelector","elements","searchQuery","$44ae6d9db4eaca0f$var$list","$44ae6d9db4eaca0f$var$button","$44ae6d9db4eaca0f$var$loadBtn","$44ae6d9db4eaca0f$var$currentPage","$44ae6d9db4eaca0f$var$createMarkup","arr","map","param","webformatURL","tags","largeImageURL","likes","views","comments","downloads","join","addEventListener","event","value","console","log","classList","remove","currentInput","preventDefault","data","clearGallery","valueOfPictures","insertAdjacentHTML","hits","totalHits","add","catch","error","message"],"version":3,"file":"load-more.ba12878f.js.map"}