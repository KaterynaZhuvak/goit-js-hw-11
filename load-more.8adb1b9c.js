!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),i=a("2TvXO"),s=a("b7ONl"),l=a("1KhuP"),u=a("5IjG7"),c=a("6JpON"),d=document.querySelector("form"),f=d.elements.searchQuery,p=document.querySelector(".gallery"),h=document.querySelector(".load-more"),y=1,v=new(e(u))(".photo-card a",{animationSpeed:250});function g(){var e=document.querySelector(".gallery").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:2*e,behavior:"smooth"})}function m(t){var r=p.querySelectorAll(".photo-card").length>0;if(""===t||t.includes(" "))return e(c).Notify.warning("Please put down correct tag or eliminate spaces");r?(p.innerHTML="",w(f.value)):w(f.value)}function w(e){return b.apply(this,arguments)}function b(){return(b=e(o)(e(i).mark((function t(r){var n,a;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,s.getPhoto)(r,y);case 3:n=t.sent,a=40*y,e(c).Notify.success("Hooray! We found ".concat(n.totalHits," images of ").concat(r,"!")),p.insertAdjacentHTML("afterbegin",(0,l.createMarkup)(n.hits)),v.refresh(),h.classList.remove("visually-hidden"),g(),n.totalHits<a&&h.classList.add("visually-hidden"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),h.classList.add("visually-hidden"),e(c).Notify.failure("Sorry, something went wrong!");case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}function x(){return(x=e(o)(e(i).mark((function t(){var r,n,a;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=f.value,n=40*(y+=1),t.prev=3,t.next=6,(0,s.getPhoto)(r,y);case 6:if(!((a=t.sent).totalHits<n)){t.next=10;break}return h.classList.add("visually-hidden"),t.abrupt("return",e(c).Notify.info("We're sorry, but you've reached the end of search results."));case 10:p.insertAdjacentHTML("beforeend",(0,l.createMarkup)(a.hits)),v.refresh(),g(),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(3),h.classList.add("visually-hidden"),e(c).Notify.failure("Sorry, something went wrong!");case 19:case"end":return t.stop()}}),t,null,[[3,15]])})))).apply(this,arguments)}d.addEventListener("submit",(function(e){e.preventDefault(),m(f.value)})),h.addEventListener("click",(function(){return x.apply(this,arguments)}))}();
//# sourceMappingURL=load-more.8adb1b9c.js.map
