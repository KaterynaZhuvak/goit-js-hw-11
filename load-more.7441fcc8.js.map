{"mappings":"oeAAAA,EAAA,SAEAC,QAAMC,SAASC,QAAQC,OAAO,aAC5B,wEAIK,SAASC,EAASC,EAAOC,GAC9B,MAAMC,EAAS,IAAIC,gBAAgB,CACjCC,IAAK,qCACLC,EAAG,GAAGL,IACNM,WAAY,QACZC,YAAa,aACbC,YAAY,EACZP,KAAMA,EACNQ,SAAU,KAEZ,OAAOC,MAAM,4BAAeR,KAAUS,MAAKC,IACzC,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,MAAM,G,CCnBtB,MACMC,EADOC,SAASC,cAAc,QACjBC,SAASC,YACtBC,EAAOJ,SAASC,cAAc,YAC9BI,EAASL,SAASC,cAAc,cAChCK,EAAUN,SAASC,cAAc,cACvC,IAAIM,EAAc,EAkBlB,SAASC,EAAaC,GACpB,OAAOA,EACJC,KACC,EAACC,aACCA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,KAEA,yCACMN,WAAsBE,0FAGlBC,+DAGAC,kEAGGC,mEAGCC,sCAKjBC,KAAK,G,CAGVb,EAAOc,iBAAiB,SAASC,IAC/B,GAAoB,KAAhBrB,EAAMsB,MACT,OAAOC,QAAQC,IAAI,+BAKpBjB,EAAQkB,UAAUC,OAAO,mBACzB,MAAMC,EAAe3B,EAAMsB,MAC3BD,EAAMO,iBAEN9C,EAAS6C,EAAcnB,GACpBd,MAAKmC,IACJC,eACE,IAAIC,EAAgC,GAAdvB,EACxBH,EAAK2B,mBAAmB,aAAcvB,EAAaoB,EAAKI,OACpDJ,EAAKK,UAAYH,IACnBxB,EAAQkB,UAAUU,IAAI,mBACtBZ,QAAQC,IAAI,+DAEdD,QAAQC,IAAIK,EAAK,IAElBO,OAAOC,IAEN,MADAd,QAAQc,MAAM,SAAUA,EAAMC,SACxBD,CAAK,GACX,IAGN9B,EAAQa,iBAAiB,SA7EzB,WACE,MAAMO,EAAe3B,EAAMsB,MAC3Bd,GAAe,EACf,IAAIuB,EAAgC,GAAdvB,EACtB1B,EAAS6C,EAAcnB,GACpBd,MAAKmC,IACJxB,EAAK2B,mBAAmB,YAAavB,EAAaoB,EAAKI,OACnDJ,EAAKK,UAAYH,IACnBxB,EAAQkB,UAAUU,IAAI,mBACtBZ,QAAQC,IAAI,+DAEdD,QAAQC,IAAIK,EAAK,IAElBO,OAAM,IAAMb,QAAQC,IAAI,U","sources":["src/js/api.js","src/js/index.js"],"sourcesContent":["import axios from 'axios';\n// 39488984-2cdf64825ff5a66680c809fac\naxios.defaults.headers.common['x-api-key'] =\n  'live_xNlsBNR1EL34BK6Wbea8FpCcO90ihAQy1i4beoiTYcvycLQiUZHb5UOMBDprladk';\n\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function getPhoto(input, page) {\n  const params = new URLSearchParams({\n    key: '39488984-2cdf64825ff5a66680c809fac',\n    q: `${input}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page: page,\n    per_page: 40,\n  });\n  return fetch(`${BASE_URL}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n","import { getPhoto } from './api';\n\nconst form = document.querySelector('form');\nconst input = form.elements.searchQuery;\nconst list = document.querySelector('.gallery');\nconst button = document.querySelector('.submitBtn');\nconst loadBtn = document.querySelector('.load-more');\nlet currentPage = 1;\n\nfunction onLoad() {\n  const currentInput = input.value;\n  currentPage += 1;\n  let valueOfPictures = currentPage * 40;\n  getPhoto(currentInput, currentPage)\n    .then(data => {\n      list.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n      if (data.totalHits < valueOfPictures) {\n        loadBtn.classList.add('visually-hidden');\n        console.log(\"We're sorry, but you've reached the end of search results.\")\n      }\n      console.log(data);\n    })\n    .catch(() => console.log('error'));\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes: ${likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views: ${views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments: ${comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads: ${downloads}</b>\n    </p>\n  </div>\n</div>`\n    )\n    .join('');\n}\n\nbutton.addEventListener('click', event => {\n  if (input.value === '') {\n   return console.log('please put down correct tag')\n  }\n\n \n\n  loadBtn.classList.remove('visually-hidden');\n  const currentInput = input.value;\n  event.preventDefault();\n\n  getPhoto(currentInput, currentPage)\n    .then(data => {\n      clearGallery();\n        let valueOfPictures = currentPage * 40;\n      list.insertAdjacentHTML('afterbegin', createMarkup(data.hits));\n      if (data.totalHits < valueOfPictures) {\n        loadBtn.classList.add('visually-hidden');\n        console.log(\"We're sorry, but you've reached the end of search results.\")\n      }\n      console.log(data);\n    })\n    .catch((error) => {\n      console.error('Error:', error.message);\n      throw error;\n    });\n});\n\nloadBtn.addEventListener('click', onLoad);\n"],"names":["parcelRequire","default","defaults","headers","common","$56ca17bb174b0ce3$export$b4811a848a77dca8","input","page","params","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","fetch","then","resp","ok","Error","statusText","json","$85a5f86b715fe7db$var$input","document","querySelector","elements","searchQuery","$85a5f86b715fe7db$var$list","$85a5f86b715fe7db$var$button","$85a5f86b715fe7db$var$loadBtn","$85a5f86b715fe7db$var$currentPage","$85a5f86b715fe7db$var$createMarkup","arr","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","addEventListener","event","value","console","log","classList","remove","currentInput","preventDefault","data","clearGallery","valueOfPictures","insertAdjacentHTML","hits","totalHits","add","catch","error","message"],"version":3,"file":"load-more.7441fcc8.js.map"}